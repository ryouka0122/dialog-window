import{d as f,r as c,u as v,k as V,o as w,c as M,a as s,b as a,f as k,w as i,e as r,g as C,V as b,h as u,_ as x,i as y,j as T}from"./_plugin-vue_export-helper-Dmpn2Y8S.js";import{V as B}from"./VDivider-CQr2IXCF.js";const _=f({__name:"Child1",setup(A){const o=c("親ウィンドウからのメッセージがここに入ります"),t=v("childMessage"),l=new V(window);function p(){var e;const n=(e=t.value)==null?void 0:e.value;l.sendMessage("result",{message:"## child1 ##"+n}),d()}w(()=>{if(!window.opener){alert("直接開かないでください");return}l.addMessageListener("data",n=>{o.value=n.message}),l.sendMessage("initialized",null),window.addEventListener("beforeunload",()=>{l.sendMessage("close",null)})});function d(){window.close()}return(n,e)=>(C(),M("div",null,[e[5]||(e[5]=s("h1",null,"Child1",-1)),s("div",null,[e[1]||(e[1]=s("h3",{style:{"background-color":"azure"}},"親ウィンドウから来たメッセージ",-1)),a(k,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=m=>o.value=m),readonly:"","hide-details":""},null,8,["modelValue"])]),s("div",null,[e[3]||(e[3]=s("h3",{style:{"background-color":"azure"}},"親ウィンドウに送信するメッセージ",-1)),a(b,{ref_key:"childMessage",ref:t,label:"メッセージ"},null,512),a(r,{onClick:p},{default:i(()=>e[2]||(e[2]=[u("送信")])),_:1})]),s("div",null,[a(B,{style:{"margin-bottom":"1rem"}}),a(r,{onClick:d},{default:i(()=>e[4]||(e[4]=[u("ダイアログを閉じる")])),_:1})])]))}}),z=x(_,[["__scopeId","data-v-5c5a1309"]]),g=y(z);T(g);g.mount("#app");
